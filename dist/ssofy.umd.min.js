!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SSOfy=e():t.SSOfy=e()}(this,(()=>(()=>{var t={438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizationRequest=void 0;var n=r(537),o=r(96),i=function(){function t(e,r,o){void 0===r&&(r=new n.DefaultCrypto),void 0===o&&(o=!0),this.crypto=r,this.usePkce=o,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||function(t){return t.generateRandom(10)}(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var t=this;if(this.usePkce){var e=this.crypto.generateRandom(128);return this.crypto.deriveChallenge(e).catch((function(t){o.log("Unable to generate PKCE challenge. Not using PKCE",t)})).then((function(r){r&&(t.internal=t.internal||{},t.internal.code_verifier=e,t.extras=t.extras||{},t.extras.code_challenge=r,t.extras.code_challenge_method="S256")}))}return Promise.resolve()},t.prototype.toJson=function(){var t=this;return this.setupCodeVerifier().then((function(){return{response_type:t.responseType,client_id:t.clientId,redirect_uri:t.redirectUri,scope:t.scope,state:t.state,extras:t.extras,internal:t.internal}}))},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();e.AuthorizationRequest=i},960:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizationRequestHandler=e.BUILT_IN_PARAMETERS=e.AuthorizationNotifier=void 0;var n=r(96),o=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(t){this.listener=t},t.prototype.onAuthorizationComplete=function(t,e,r){this.listener&&this.listener(t,e,r)},t}();e.AuthorizationNotifier=o,e.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var i=function(){function t(t,e){this.utils=t,this.crypto=e,this.notifier=null}return t.prototype.buildRequestUrl=function(t,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var o in r.extras)r.extras.hasOwnProperty(o)&&e.BUILT_IN_PARAMETERS.indexOf(o)<0&&(n[o]=r.extras[o]);var i=this.utils.stringify(n);return t.authorizationEndpoint+"?"+i},t.prototype.completeAuthorizationRequestIfPossible=function(){var t=this;return n.log("Checking to see if there is an authorization response to be delivered."),this.notifier||n.log("Notifier is not present on AuthorizationRequest handler.\n          No delivery of result will be possible"),this.completeAuthorizationRequest().then((function(e){e||n.log("No result is available yet."),e&&t.notifier&&t.notifier.onAuthorizationComplete(e.request,e.response,e.error)}))},t.prototype.setAuthorizationNotifier=function(t){return this.notifier=t,this},t}();e.AuthorizationRequestHandler=i},208:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizationError=e.AuthorizationResponse=void 0;var r=function(){function t(t){this.code=t.code,this.state=t.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();e.AuthorizationResponse=r;var n=function(){function t(t){this.error=t.error,this.errorDescription=t.error_description,this.errorUri=t.error_uri,this.state=t.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();e.AuthorizationError=n},373:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizationServiceConfiguration=void 0;var n=r(484),o=function(){function t(t){this.authorizationEndpoint=t.authorization_endpoint,this.tokenEndpoint=t.token_endpoint,this.revocationEndpoint=t.revocation_endpoint,this.userInfoEndpoint=t.userinfo_endpoint,this.endSessionEndpoint=t.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var o=e+"/.well-known/openid-configuration";return(r||new n.JQueryRequestor).xhr({url:o,dataType:"json",method:"GET"}).then((function(e){return new t(e)}))},t}();e.AuthorizationServiceConfiguration=o},537:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultCrypto=e.textEncodeLite=e.urlSafe=e.bufferToString=void 0;var n=r(742),o=r(3),i="undefined"!=typeof window&&!!window.crypto,s=i&&!!window.crypto.subtle;function u(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%62;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[n])}return e.join("")}function a(t){return n.fromByteArray(new Uint8Array(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function c(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}e.bufferToString=u,e.urlSafe=a,e.textEncodeLite=c;var l=function(){function t(){}return t.prototype.generateRandom=function(t){var e=new Uint8Array(t);if(i)window.crypto.getRandomValues(e);else for(var r=0;r<t;r+=1)e[r]=62*Math.random()|0;return u(e)},t.prototype.deriveChallenge=function(t){return t.length<43||t.length>128?Promise.reject(new o.AppAuthError("Invalid code length.")):s?new Promise((function(e,r){crypto.subtle.digest("SHA-256",c(t)).then((function(t){return e(a(new Uint8Array(t)))}),(function(t){return r(t)}))})):Promise.reject(new o.AppAuthError("window.crypto.subtle is unavailable."))},t}();e.DefaultCrypto=l},3:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppAuthError=void 0;e.AppAuthError=function(t,e){this.message=t,this.extras=e}},577:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_PROFILE=e.IS_LOG=void 0,e.IS_LOG=!0,e.IS_PROFILE=!1},865:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(438),e),o(r(960),e),o(r(208),e),o(r(373),e),o(r(537),e),o(r(3),e),o(r(577),e),o(r(96),e),o(r(629),e),o(r(417),e),o(r(33),e),o(r(480),e),o(r(892),e),o(r(551),e),o(r(298),e),o(r(53),e),o(r(484),e)},96:function(t,e,r){"use strict";var n=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.profile=e.log=void 0;var o=r(577);function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];o.IS_LOG&&((e?e.length:0)>0?console.log.apply(console,n([t],e)):console.log(t))}e.log=i;var s="undefined"!=typeof window&&!!window.performance&&!!console.profile;e.profile=function(t,e,r){return o.IS_PROFILE?function(t,e,r){var o=r.value,u=o.name;return u||(u="anonymous function"),r.value=s?function(t){console.profile(u);var e=window.performance.now(),r=o.call.apply(o,n([this||window],t)),i=window.performance.now()-e;return console.log(u+" took "+i+" ms"),console.profileEnd(),r}:function(t){i("Profile start "+u);var e=Date.now(),r=o.call.apply(o,n([this||window],t)),s=Date.now()-e;return i("Profile end "+u+" took "+s+" ms."),r},r}(0,0,r):r}},629:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicQueryStringUtils=void 0;var r=function(){function t(){}return t.prototype.parse=function(t,e){return e?this.parseQueryString(t.hash):this.parseQueryString(t.search)},t.prototype.parseQueryString=function(t){for(var e={},r=(t=t.trim().replace(/^(\?|#|&)/,"")).split("&"),n=0;n<r.length;n+=1){var o=r[n].split("=");if(o.length>=2){var i=decodeURIComponent(o.shift()),s=o.length>0?o.join("="):null;s&&(e[i]=decodeURIComponent(s))}}return e},t.prototype.stringify=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")},t}();e.BasicQueryStringUtils=r},417:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectRequestHandler=void 0;var i=r(438),s=r(960),u=r(208),a=r(537),c=r(96),l=r(629),f=r(480),p=function(t){return t+"_appauth_authorization_request"},h=function(t){return t+"_appauth_authorization_service_configuration"},d="appauth_current_authorization_request",v=function(t){function e(e,r,n,o){void 0===e&&(e=new f.LocalStorageBackend),void 0===r&&(r=new l.BasicQueryStringUtils),void 0===n&&(n=window.location),void 0===o&&(o=new a.DefaultCrypto);var i=t.call(this,r,o)||this;return i.storageBackend=e,i.locationLike=n,i}return o(e,t),e.prototype.performAuthorizationRequest=function(t,e){var r=this,n=this.crypto.generateRandom(10);Promise.all([this.storageBackend.setItem(d,n),e.toJson().then((function(t){return r.storageBackend.setItem(p(n),JSON.stringify(t))})),this.storageBackend.setItem(h(n),JSON.stringify(t.toJson()))]).then((function(){var n=r.buildRequestUrl(t,e);c.log("Making a request to ",e,n),r.locationLike.assign(n)}))},e.prototype.completeAuthorizationRequest=function(){var t=this;return this.storageBackend.getItem(d).then((function(e){return e?t.storageBackend.getItem(p(e)).then((function(t){return JSON.parse(t)})).then((function(t){return new i.AuthorizationRequest(t)})).then((function(r){var n=""+t.locationLike.origin+t.locationLike.pathname,o=t.utils.parse(t.locationLike,!0),i=o.state,s=o.code,a=o.error;c.log("Potential authorization request ",n,o,i,s,a);var l=i===r.state,f=null,v=null;if(l){if(a){var y=o.error_uri,_=o.error_description;v=new u.AuthorizationError({error:a,error_description:_,error_uri:y,state:i})}else f=new u.AuthorizationResponse({code:s,state:i});return Promise.all([t.storageBackend.removeItem(d),t.storageBackend.removeItem(p(e)),t.storageBackend.removeItem(h(e))]).then((function(){return c.log("Delivering authorization response"),{request:r,response:f,error:v}}))}return c.log("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)})):null}))},e}(s.AuthorizationRequestHandler);e.RedirectRequestHandler=v},33:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevokeTokenRequest=void 0;var r=function(){function t(t){this.token=t.token,this.tokenTypeHint=t.token_type_hint,this.clientId=t.client_id,this.clientSecret=t.client_secret}return t.prototype.toJson=function(){var t={token:this.token};return this.tokenTypeHint&&(t.token_type_hint=this.tokenTypeHint),this.clientId&&(t.client_id=this.clientId),this.clientSecret&&(t.client_secret=this.clientSecret),t},t.prototype.toStringMap=function(){return this.toJson()},t}();e.RevokeTokenRequest=r},480:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorageBackend=e.StorageBackend=void 0;var o=function(){};e.StorageBackend=o;var i=function(t){function e(e){var r=t.call(this)||this;return r.storage=e||window.localStorage,r}return n(e,t),e.prototype.getItem=function(t){var e=this;return new Promise((function(r,n){r(e.storage.getItem(t)||null)}))},e.prototype.removeItem=function(t){var e=this;return new Promise((function(r,n){e.storage.removeItem(t),r()}))},e.prototype.clear=function(){var t=this;return new Promise((function(e,r){t.storage.clear(),e()}))},e.prototype.setItem=function(t,e){var r=this;return new Promise((function(n,o){r.storage.setItem(t,e),n()}))},e}(o);e.LocalStorageBackend=i},892:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRequest=e.GRANT_TYPE_REFRESH_TOKEN=e.GRANT_TYPE_AUTHORIZATION_CODE=void 0,e.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code",e.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var r=function(){function t(t){this.clientId=t.client_id,this.redirectUri=t.redirect_uri,this.grantType=t.grant_type,this.code=t.code,this.refreshToken=t.refresh_token,this.extras=t.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var t={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(t.code=this.code),this.refreshToken&&(t.refresh_token=this.refreshToken),this.extras)for(var e in this.extras)this.extras.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=this.extras[e]);return t},t}();e.TokenRequest=r},551:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTokenRequestHandler=void 0;var n=r(3),o=r(629),i=r(298),s=r(484),u=function(){function t(t,e){void 0===t&&(t=new s.JQueryRequestor),void 0===e&&(e=new o.BasicQueryStringUtils),this.requestor=t,this.utils=e}return t.prototype.isTokenResponse=function(t){return void 0===t.error},t.prototype.performRevokeTokenRequest=function(t,e){return this.requestor.xhr({url:t.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(e.toStringMap())}).then((function(t){return!0}))},t.prototype.performTokenRequest=function(t,e){var r=this;return this.requestor.xhr({url:t.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(e.toStringMap())}).then((function(t){return r.isTokenResponse(t)?new i.TokenResponse(t):Promise.reject(new n.AppAuthError(t.error,new i.TokenError(t)))}))},t}();e.BaseTokenRequestHandler=u},298:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenError=e.TokenResponse=e.nowInSeconds=void 0,e.nowInSeconds=function(){return Math.round((new Date).getTime()/1e3)};var r=function(){function t(t){this.accessToken=t.access_token,this.tokenType=t.token_type||"bearer",t.expires_in&&(this.expiresIn=parseInt(t.expires_in,10)),this.refreshToken=t.refresh_token,this.scope=t.scope,this.idToken=t.id_token,this.issuedAt=t.issued_at||e.nowInSeconds()}return t.prototype.toJson=function(){var t;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:null===(t=this.expiresIn)||void 0===t?void 0:t.toString()}},t.prototype.isValid=function(t){return void 0===t&&(t=-600),!this.expiresIn||e.nowInSeconds()<this.issuedAt+this.expiresIn+t},t}();e.TokenResponse=r;var n=function(){function t(t){this.error=t.error,this.errorDescription=t.error_description,this.errorUri=t.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();e.TokenError=n},53:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},484:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TestRequestor=e.FetchRequestor=e.JQueryRequestor=e.Requestor=void 0;var i=r(3),s=function(){};e.Requestor=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.xhr=function(t){var e=$.ajax(t);return new Promise((function(t,r){e.then((function(e,r,n){t(e)}),(function(t,e,n){r(new i.AppAuthError(n))}))}))},e}(s);e.JQueryRequestor=u;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.xhr=function(t){if(!t.url)return Promise.reject(new i.AppAuthError("A URL must be provided."));var e=new URL(t.url),r={};if(r.method=t.method,r.mode="cors",t.data&&(t.method&&"POST"===t.method.toUpperCase()?r.body=t.data:new URLSearchParams(t.data).forEach((function(t,r){e.searchParams.append(r,t)}))),r.headers={},t.headers)for(var n in t.headers)t.headers.hasOwnProperty(n)&&(r.headers[n]=t.headers[n]);var o=t.dataType&&"json"===t.dataType.toLowerCase();return o&&(r.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(e.toString(),r).then((function(t){if(t.status>=200&&t.status<300){var e=t.headers.get("content-type");return o||e&&-1!==e.indexOf("application/json")?t.json():t.text()}return Promise.reject(new i.AppAuthError(t.status.toString(),t.statusText))}))},e}(s);e.FetchRequestor=a;var c=function(t){function e(e){var r=t.call(this)||this;return r.promise=e,r}return o(e,t),e.prototype.xhr=function(t){return this.promise},e}(s);e.TestRequestor=c},742:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=u(t),s=i[0],a=i[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=16383,u=0,c=n-o;u<c;u+=s)i.push(a(t,u,u+s>c?c:u+s));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function a(t,e,n){for(var o,i,s=[],u=e;u<n;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},875:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AuthError=void 0;var i=function(t){function e(e){var r=t.call(this,e)||this;return r.message=e,r.name="AuthError",r}return o(e,t),e}(r(787).BaseError);e.AuthError=i},787:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseError=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.BaseError=o},869:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackError=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.code=r,n.name="CallbackError",n}return o(e,t),e}(r(787).BaseError);e.CallbackError=i},470:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidStateError=void 0;var i=function(t){function e(){var e=t.call(this,"Invalid State")||this;return e.name="InvalidStateError",e}return o(e,t),e}(r(787).BaseError);e.InvalidStateError=i},893:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.RefreshTokenError=void 0;var i=function(t){function e(){var e=t.call(this,"Token is not renewable")||this;return e.name="RefreshTokenError",e}return o(e,t),e}(r(787).BaseError);e.RefreshTokenError=i},14:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlHelper=void 0;var r=function(){function t(){}return t.getUrl=function(t){var e=new URL(t);return e.origin+e.pathname},t.getParameters=function(t){var e=new URL(t),r=new URLSearchParams(e.search),n={};if(r.forEach((function(t,e){n[e]=t})),e.hash){var o=e.hash.substring(1),i=o.indexOf("#");-1!==i&&(o=o.substring(0,i));var s=o.indexOf("?");-1!==s&&(o=o.substring(s)),new URLSearchParams(o).forEach((function(t,e){n[e]=t}))}return n},t}();e.UrlHelper=r},471:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Client=void 0;var i=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(r(304).OAuth2Client);e.OAuth2Client=i},159:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizationRequestHandler=void 0;var i=r(865),s=function(t){function e(){var e=new i.BasicQueryStringUtils,r=new i.DefaultCrypto;return t.call(this,e,r)||this}return o(e,t),e.prototype.buildRequestUrl=function(e,r){return t.prototype.buildRequestUrl.call(this,e,r)},e.prototype.completeAuthorizationRequest=function(){return Promise.resolve(null)},e.prototype.performAuthorizationRequest=function(t,e){},e}(i.AuthorizationRequestHandler);e.AuthorizationRequestHandler=s},304:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}a((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Client=void 0;var i=r(433),s=r(939),u=r(176),a=r(159),c=r(777),l=r(470),f=r(875),p=r(893),h=r(14),d=r(865),v=r(869),y=r(484).FetchRequestor,_=r(537).DefaultCrypto,g="undefined"==typeof process||!process.release||"node"!==process.release.name;g||(y=r(579)("@openid/appauth/built/node_support/node_requestor").NodeRequestor,_=r(579)("@openid/appauth/built/node_support/crypto_utils").NodeCrypto);var w=function(){function t(t){var e;t instanceof i.OAuth2Config?this.config=t:this.config=new i.OAuth2Config(t),this.stateStore=null!==(e=t.stateStore)&&void 0!==e?e:new s.NullStorage}return t.prototype.initAuthCodeFlow=function(t,e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this.initWorkflow(d.AuthorizationRequest.RESPONSE_TYPE_CODE,t,e)]}))}))},t.prototype.initImplicitFlow=function(t,e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this.initWorkflow(d.AuthorizationRequest.RESPONSE_TYPE_TOKEN,t,e)]}))}))},t.prototype.handleCallback=function(t){var e,r,s;return void 0===t&&(t={}),n(this,void 0,void 0,(function(){var n,u,a,c,p,_,g,w;return o(this,(function(o){switch(o.label){case 0:if(t.hasOwnProperty("error"))throw new v.CallbackError(t.error_description,t.error);return n=t.state,[4,this.getState(n)];case 1:if(!(u=o.sent()))throw new l.InvalidStateError;switch(a=new i.OAuth2Config(u.config),c={},p=null,u.responseType){case d.AuthorizationRequest.RESPONSE_TYPE_CODE:return[3,2];case d.AuthorizationRequest.RESPONSE_TYPE_TOKEN:return[3,7]}return[3,8];case 2:a.clientSecret&&(c.client_secret=a.clientSecret),a.pkceVerification&&u.codeVerifier&&(c.code_verifier=u.codeVerifier),_=new d.TokenRequest({client_id:null!==(e=a.clientId)&&void 0!==e?e:"",redirect_uri:null!==(r=a.redirectUri)&&void 0!==r?r:"",grant_type:d.GRANT_TYPE_AUTHORIZATION_CODE,code:null==t?void 0:t.code,extras:c}),g=new d.BaseTokenRequestHandler(new y),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,g.performTokenRequest({tokenEndpoint:h.UrlHelper.getUrl(null!==(s=this.config.tokenUrl())&&void 0!==s?s:"")},_)];case 4:return p=o.sent(),[3,6];case 5:if((w=o.sent())instanceof d.AppAuthError)throw new f.AuthError(w.message);throw w;case 6:return[3,8];case 7:if(!this.isTokenResponse(t))throw new f.AuthError(t.error);return p=new d.TokenResponse(t),[3,8];case 8:return u.token=null==p?void 0:p.toJson(),[4,this.saveState(n,u,this.config.stateTtl)];case 9:return o.sent(),[2,u]}}))}))},t.prototype.getConfig=function(t){return n(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,this.getState(t)];case 1:if(!(e=r.sent()))throw new l.InvalidStateError;return e.config?[2,new i.OAuth2Config(e.config)]:[2,null]}}))}))},t.prototype.getUserInfo=function(t){return n(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,this.getState(t)];case 1:if(!(e=r.sent()))throw new l.InvalidStateError;return e.user?[3,3]:[4,this.refreshUserInfo(t)];case 2:return[2,r.sent()];case 3:return[2,e.user]}}))}))},t.prototype.refreshUserInfo=function(t){return n(this,void 0,void 0,(function(){var e,r,n;return o(this,(function(o){switch(o.label){case 0:return[4,this.getState(t)];case 1:if(!(e=o.sent()))throw new l.InvalidStateError;return e.token?[4,this.getAccessToken(t)]:[2,null];case 2:return(r=o.sent())?[4,new c.UserInfoRequestHandler(new y).performUserInfoRequest({userInfoEndpoint:this.config.resourceOwnerUrl()},new u.ResourceOwnerRequest(r.access_token))]:[2,null];case 3:return n=o.sent(),e.user=n,[4,this.saveState(t,e,this.config.stateTtl)];case 4:return o.sent(),[2,n]}}))}))},t.prototype.getAccessToken=function(t){var e,r;return n(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return[4,this.getState(t)];case 1:if(!(n=o.sent()))throw new l.InvalidStateError;return n.token?(i=n.token,(null!==(e=i.issued_at)&&void 0!==e?e:0)+Number.parseInt(null!==(r=i.expires_in)&&void 0!==r?r:"0")>=Math.floor(Date.now()/1e3)?[2,i]:i.refresh_token?[4,this.renewAccessToken(t)]:[2,null]):[2,null];case 2:return[2,o.sent()]}}))}))},t.prototype.renewAccessToken=function(t){var e,r;return n(this,void 0,void 0,(function(){var n,s,u,a,c,h,v,_;return o(this,(function(o){switch(o.label){case 0:return[4,this.getState(t)];case 1:if(!(n=o.sent()))throw new l.InvalidStateError;if(!n.token)return[2,null];if(!(s=n.token).refresh_token)throw new p.RefreshTokenError;u=new i.OAuth2Config(n.config),a={},u.clientSecret&&(a.client_secret=u.clientSecret),u.pkceVerification&&n.codeVerifier&&(a.code_verifier=n.codeVerifier),c=new d.TokenRequest({client_id:null!==(e=u.clientId)&&void 0!==e?e:"",redirect_uri:null!==(r=u.redirectUri)&&void 0!==r?r:"",grant_type:d.GRANT_TYPE_REFRESH_TOKEN,refresh_token:s.refresh_token,extras:a}),h=new d.BaseTokenRequestHandler(new y),v=null,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,h.performTokenRequest({tokenEndpoint:this.config.tokenUrl()},c)];case 3:return v=o.sent(),[3,5];case 4:if((_=o.sent())instanceof d.AppAuthError)throw new f.AuthError(_.message);throw _;case 5:return n.token=v.toJson(),[4,this.saveState(t,n,this.config.stateTtl)];case 6:return o.sent(),[2,n.token]}}))}))},t.prototype.destroy=function(t){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.stateStore.delete(this.stateStorageKey(t))]}))}))},t.prototype.initWorkflow=function(t,e,r){var i,s,u,c,l,f;return n(this,void 0,void 0,(function(){var n,p,v,y,w;return o(this,(function(o){switch(o.label){case 0:return g?[4,this.stateStore.cleanup()]:[3,2];case 1:o.sent(),o.label=2;case 2:e=null!==(i=null!=e?e:this.config.authorizationUrl())&&void 0!==i?i:"",n=h.UrlHelper.getParameters(e),e=h.UrlHelper.getUrl(e),o.label=3;case 3:return(v=!p)?[3,5]:[4,this.stateStore.get(p.state)];case 4:v=null!==o.sent(),o.label=5;case 5:return v?(p=new d.AuthorizationRequest({client_id:null!==(s=this.config.clientId)&&void 0!==s?s:"",redirect_uri:null!==(u=this.config.redirectUri)&&void 0!==u?u:"",scope:null!==(l=null===(c=this.config.scopes)||void 0===c?void 0:c.join(" "))&&void 0!==l?l:"",state:this.config.state,response_type:t,extras:n},new _,this.config.pkceVerification),[3,3]):[3,6];case 6:return y=new a.AuthorizationRequestHandler,w={state:p.state,config:this.config.toJson(),responseType:t,nextUrl:r,authorizationUri:""},this.config.pkceVerification&&t===d.AuthorizationRequest.RESPONSE_TYPE_CODE?[4,p.setupCodeVerifier()]:[3,8];case 7:o.sent(),w.codeVerifier=null===(f=p.internal)||void 0===f?void 0:f.code_verifier,o.label=8;case 8:return w.authorizationUri=y.buildRequestUrl({authorizationEndpoint:e},p),[4,this.saveState(p.state,w,this.config.stateTtl)];case 9:return o.sent(),[2,w]}}))}))},t.prototype.getState=function(t){return n(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,this.stateStore.get(this.stateStorageKey(t))];case 1:return(e=r.sent())?[2,JSON.parse(e)]:[2,null]}}))}))},t.prototype.saveState=function(t,e,r){return void 0===r&&(r=0),n(this,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:return n=this.stateStorageKey(t),[4,this.stateStore.delete(n)];case 1:return o.sent(),[4,this.stateStore.put(n,JSON.stringify(e),r)];case 2:return o.sent(),[2]}}))}))},t.prototype.deleteState=function(t){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.stateStore.delete(this.stateStorageKey(t))];case 1:return e.sent(),[2]}}))}))},t.prototype.stateStorageKey=function(t){return"oauth:state:".concat(t)},t.prototype.isTokenResponse=function(t){return void 0===t.error},t}();e.OAuth2Client=w},433:function(t,e){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Config=void 0;var n=function(){function t(t){var e,r,n,o,i;Object.assign(this,t),this.pkceVerification=null===(e=this.pkceVerification)||void 0===e||e,this.timeout=null!==(r=this.timeout)&&void 0!==r?r:3600,this.scopes=null!==(n=this.scopes)&&void 0!==n?n:["*"],this.locale=null!==(o=this.locale)&&void 0!==o?o:"en",this.stateTtl=null!==(i=this.stateTtl)&&void 0!==i?i:31536e3}return t.prototype.authorizationUrl=function(t){if(!this.url)return null;var e={};return t&&(e.token=t),this.addUrlParams(this.urlJoin(this.url,"/authorize"),e)},t.prototype.socialAuthorizationUrl=function(t){return this.url?(t=t.toLowerCase(),this.addUrlParams(this.urlJoin(this.url,"/social/".concat(t,"/authorize")))):null},t.prototype.tokenUrl=function(){return this.url?this.addUrlParams(this.urlJoin(this.url,"/token")):null},t.prototype.logoutUrl=function(){return this.url?this.addUrlParams(this.urlJoin(this.url,"/logout"),{redirect_uri:this.redirectUri}):null},t.prototype.logoutEverywhereUrl=function(){return this.url?this.addUrlParams(this.urlJoin(this.url,"/logout-everywhere"),{redirect_uri:this.redirectUri}):null},t.prototype.registrationUrl=function(){return this.url?this.addUrlParams(this.urlJoin(this.url,"/register"),{redirect_uri:this.redirectUri}):null},t.prototype.profileUrl=function(){return this.url?this.addUrlParams(this.urlJoin(this.url,"/account")):null},t.prototype.resourceOwnerUrl=function(){return this.url?this.urlJoin(this.url,"/userinfo"):null},t.prototype.toJson=function(){var t=r({},this);return delete t.stateStore,t},t.prototype.addUrlParams=function(t,e){void 0===e&&(e={});var r=e,n=this.locale;if(n&&(r.locale=n),Object.keys(r).length>0){var o=new URL(t);Object.keys(r).forEach((function(t){return o.searchParams.append(t,r[t])})),t=o.toString()}return t},t.prototype.urlJoin=function(t,e){var r=new URL(t);return r.pathname=e,r.toString()},t}();e.OAuth2Config=n},176:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceOwnerRequest=void 0;var r=function(){function t(t){this.token=t}return t.prototype.toJson=function(){return{token:this.token}},t.prototype.toStringMap=function(){return this.toJson()},t}();e.ResourceOwnerRequest=r},777:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserInfoRequestHandler=void 0;var n=r(865),o=function(){function t(t){void 0===t&&(t=new n.JQueryRequestor),this.requester=t}return t.prototype.performUserInfoRequest=function(t,e){return this.requester.xhr({url:t.userInfoEndpoint,method:"GET",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e.token}}).then((function(t){if(!t.error)return t;Promise.reject(new n.AppAuthError(t.error,t))}))},t}();e.UserInfoRequestHandler=o},157:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Config=void 0;var i=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(r(433).OAuth2Config);e.OAuth2Config=i},526:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}a((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.CookieStorage=void 0;var o=function(){function t(){}return t.prototype.put=function(t,e,o){return r(this,void 0,void 0,(function(){var r,i;return n(this,(function(n){return r="",o&&((i=new Date).setTime(i.getTime()+1e3*o),r="; expires="+i.toUTCString()),document.cookie=t+"="+(e||"")+r+"; path=/",[2]}))}))},t.prototype.get=function(t){return r(this,void 0,void 0,(function(){var e,r,o,i;return n(this,(function(n){for(e=t+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(i=r[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return[2,i.substring(e.length,i.length)]}return[2,null]}))}))},t.prototype.delete=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){return document.cookie=t+"=; Max-Age=-99999999;",[2]}))}))},t.prototype.flushAll=function(){return r(this,void 0,void 0,(function(){var t,e,r,o;return n(this,(function(n){for(t=document.cookie.split(";"),e=0;e<t.length;e++)r=t[e],o=r.split("=")[0].trim(),this.delete(o);return[2]}))}))},t.prototype.cleanup=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},t}();e.CookieStorage=o},940:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}a((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorage=void 0;var o=function(){function t(t){void 0===t&&(t="ssofy"),this.storage=localStorage,this.prefix="".concat(t,"_"),this.ttlSuffix="_ttl"}return t.prototype.put=function(t,e,o){return r(this,void 0,void 0,(function(){var r;return n(this,(function(n){return this.storage.setItem(this.prefixedKey(t),e),void 0!==o&&(r=Date.now()+1e3*o,this.storage.setItem(this.ttlKey(t),String(r))),[2]}))}))},t.prototype.get=function(t){return r(this,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return null!==(e=this.storage.getItem(this.ttlKey(t)))&&Date.now()>Number(e)?[4,this.delete(t)]:[3,2];case 1:return r.sent(),[2,null];case 2:return[2,this.storage.getItem(this.prefixedKey(t))]}}))}))},t.prototype.delete=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){return this.storage.removeItem(this.prefixedKey(t)),this.storage.removeItem(this.ttlKey(t)),[2]}))}))},t.prototype.flushAll=function(){return r(this,void 0,void 0,(function(){var t,e;return n(this,(function(r){for(t=0;t<this.storage.length;t++)null!==(e=this.storage.key(t))&&e.startsWith(this.prefix)&&this.storage.removeItem(e);return[2]}))}))},t.prototype.cleanup=function(){return r(this,void 0,void 0,(function(){var t,e;return n(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<this.storage.length?null!==(e=this.storage.key(t))&&e.startsWith(this.prefix)?[4,this.get(e.replace(this.prefix,"").replace(this.ttlSuffix,""))]:[3,3]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t.prototype.prefixedKey=function(t){return this.prefix+t},t.prototype.ttlKey=function(t){return this.prefixedKey(t)+this.ttlSuffix},t}();e.LocalStorage=o},232:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}a((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryStorage=void 0;var o=function(){function t(){this.store=new Map}return t.prototype.put=function(t,e,o){return r(this,void 0,void 0,(function(){var r;return n(this,(function(n){return void 0!==o&&(r=Date.now()+1e3*o),this.store.set(t,{value:e,expirationDate:r}),[2]}))}))},t.prototype.get=function(t){return r(this,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return(e=this.store.get(t))&&void 0!==e.expirationDate&&Date.now()>e.expirationDate?[4,this.delete(t)]:[3,2];case 1:return r.sent(),[2,null];case 2:return[2,e?e.value:null]}}))}))},t.prototype.delete=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){return this.store.delete(t),[2]}))}))},t.prototype.flushAll=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){return this.store.clear(),[2]}))}))},t.prototype.cleanup=function(){return r(this,void 0,void 0,(function(){var t=this;return n(this,(function(e){return this.store.forEach((function(e,r){void 0!==e.expirationDate&&Date.now()>e.expirationDate&&t.store.delete(r)})),[2]}))}))},t}();e.MemoryStorage=o},939:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}a((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.NullStorage=void 0;var o=function(){function t(){}return t.prototype.cleanup=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},t.prototype.delete=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},t.prototype.flushAll=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},t.prototype.get=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2,null]}))}))},t.prototype.put=function(t,e,o){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2]}))}))},t}();e.NullStorage=o},398:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SessionStorage=void 0;var i=function(t){function e(e){void 0===e&&(e="ssofy");var r=t.call(this,e)||this;return r.storage=sessionStorage,r}return o(e,t),e}(r(940).LocalStorage);e.SessionStorage=i},579:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=579,t.exports=e}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};return(()=>{"use strict";var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlHelper=t.CookieStorage=t.SessionStorage=t.LocalStorage=t.MemoryStorage=t.NullStorage=t.OAuth2Client=t.OAuth2Config=void 0;var e=r(157);Object.defineProperty(t,"OAuth2Config",{enumerable:!0,get:function(){return e.OAuth2Config}});var o=r(471);Object.defineProperty(t,"OAuth2Client",{enumerable:!0,get:function(){return o.OAuth2Client}});var i=r(939);Object.defineProperty(t,"NullStorage",{enumerable:!0,get:function(){return i.NullStorage}});var s=r(232);Object.defineProperty(t,"MemoryStorage",{enumerable:!0,get:function(){return s.MemoryStorage}});var u=r(940);Object.defineProperty(t,"LocalStorage",{enumerable:!0,get:function(){return u.LocalStorage}});var a=r(398);Object.defineProperty(t,"SessionStorage",{enumerable:!0,get:function(){return a.SessionStorage}});var c=r(526);Object.defineProperty(t,"CookieStorage",{enumerable:!0,get:function(){return c.CookieStorage}});var l=r(14);Object.defineProperty(t,"UrlHelper",{enumerable:!0,get:function(){return l.UrlHelper}})})(),n})()));